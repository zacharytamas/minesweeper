<link rel="import" href="../polymer/polymer.html">

<script>

  Polymer({
    is: 'mine-cell',

    properties: {
      covered: {
        type: Boolean,
        value: true
      },
      flagged: {
        type: Boolean,
        value: false
      },
      mine: {
        type: Boolean,
        value: false
      },
      adjacentMines: {
        type: Number,
        value: 0
      }
    },

    toggleFlag: function() {

      // If this cell has been uncovered already it is ineligible for flagging.
      if (! this.covered) {
        return;
      }

      this.flagged = !this.flagged;
      this.fire(this.flagged ? 'flagged' : 'unflagged');
    },

    uncover: function() {
      if (this.covered && !this.flagged) {
        this.covered = false;
        this.fire('uncovered');

        if (this.mine) {
          this.fire('exploded');
        }
      }
    }
  });

</script>
